<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@whiteflagprotocol/common | Whiteflag JavaScript Library - v1.1.0-dev</title><link rel="icon" href="../assets/favicon.ico"/><meta name="description" content="Documentation for Whiteflag JavaScript Library"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">Whiteflag JavaScript Library - v1.1.0-dev</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">@whiteflagprotocol/common</a></li></ul><h1>Module @whiteflagprotocol/common</h1></div><section class="tsd-panel tsd-typography"><h1 id="wfjsl-common-definitions" class="tsd-anchor-link">WFJSL Common Definitions<a href="#wfjsl-common-definitions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><h2 id="overview" class="tsd-anchor-link">Overview<a href="#overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The Whiteflag JavaScript Library (WFJSL) is an implementation of the Whiteflag
Protocol written in <a href="https://developer.mozilla.org/en-US/docs/Glossary/TypeScript">TypeScript</a>,
and compiled to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">JavaScript</a>,
to support the development of Whiteflag-enabled applications in JavaScript.</p>
<p>The <a href="https://www.npmjs.com/package/@whiteflagprotocol/common"><code>@whiteflagprotocol/common</code></a>
package provides the common declarations and definitions that other packages
depend upon. This is to prevent any mutual or circular dependencies. Therefore,
package is not intended to be used directly by implementations of Whiteflag;
instead, the <a href="https://www.npmjs.com/package/@whiteflagprotocol/main"><code>@whiteflagprotocol/main</code></a>
package should be used.</p>
<p>This description provides a generic overview of the WFJSL common package.
Please see the <a href="https://js.whiteflagprotocol.org/typedoc">WFJSL TypeDoc documentation</a>
for a detailed description of all classes and functions.</p>
<h2 id="whiteflag-versions" class="tsd-anchor-link">Whiteflag versions<a href="#whiteflag-versions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Currently, only one version of the Whiteflag protocol has been developed. For
ease of implementation of future Whiteflag versions, WFJSL functions and
classes take the Whiteflag version into account. The <code>versions</code> module defines
the available Whiteflag versions with the <code>WfVersions</code> enum.</p>
<h2 id="authentication-and-encryption-methods" class="tsd-anchor-link">Authentication and Encryption Methods<a href="#authentication-and-encryption-methods" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>crypto</code> module defines two enums:</p>
<ul>
<li>the <code>WfAuthMethods</code> enum defines the authentication methods specified by the Whiteflag protocol</li>
<li>the <code>WfCryptoMethods</code> enum defines the encryption methods specified by the Whiteflag protocol</li>
</ul>
<h2 id="whiteflag-errors" class="tsd-anchor-link">Whiteflag Errors<a href="#whiteflag-errors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>In addition to the standard JavaScript <code>Error</code> class, WFJSL provides an
additional error class for Whiteflag protocol errors: the <code>WfProtocolError</code>
class for the handling of Whiteflag message format and protocol errors
consistently. To use the <code>WfProtocolError</code> class, define a new error
as follows:</p>
<pre><code class="javascript"><span class="hl-3">err</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">WfProtocolError</span><span class="hl-1">(</span><span class="hl-3">message</span><span class="hl-1">, </span><span class="hl-3">causes</span><span class="hl-1">, </span><span class="hl-3">code</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>with the following arguments:</p>
<ul>
<li><code>message</code> is similar to the property of the generic Error class, i.e. a string with a human-readable description of the error</li>
<li><code>causes</code> is an additional property in the form of an array that may contain a human-readable stack of underlying causes</li>
<li><code>code</code> is a property of type string, identifying the type of error as described below for both classes</li>
</ul>
<h2 id="class-error-codes" class="tsd-anchor-link"><code>ProtocolError</code> class error codes<a href="#class-error-codes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><code>WF_PROTOCOL_ERROR</code>: generic Whiteflag protocol error (default)</li>
<li><code>WF_METAHEADER_ERROR</code>: incorrect Whiteflag message metadata</li>
<li><code>WF_FORMAT_ERROR</code>: Whiteflag message format error</li>
<li><code>WF_REFERENCE_ERROR</code>: Whiteflag message reference error</li>
<li><code>WF_AUTH_ERROR</code>: Whiteflag message authentication error</li>
<li><code>WF_SIGN_ERROR</code>: Whiteflag signature error</li>
<li><code>WF_ENCRYPTION_ERROR</code>: Whiteflag encryption error</li>
</ul>
</section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Enumerations"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Enumerations</h2></summary><dl class="tsd-member-summaries"><dt class="tsd-member-summary" id="wfauthmethod"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Enumeration"><use href="../assets/icons.svg#icon-8"></use></svg><a href="common/WfAuthMethod.html">WfAuthMethod</a><a href="#wfauthmethod" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="wfcryptomethod"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Enumeration"><use href="../assets/icons.svg#icon-8"></use></svg><a href="common/WfCryptoMethod.html">WfCryptoMethod</a><a href="#wfcryptomethod" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="wferrorcode"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Enumeration"><use href="../assets/icons.svg#icon-8"></use></svg><a href="common/WfErrorCode.html">WfErrorCode</a><a href="#wferrorcode" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd><dt class="tsd-member-summary" id="wfversion"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Enumeration"><use href="../assets/icons.svg#icon-8"></use></svg><a href="common/WfVersion.html">WfVersion</a><a href="#wfversion" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd></dl></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Classes"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Classes</h2></summary><dl class="tsd-member-summaries"><dt class="tsd-member-summary" id="wfprotocolerror"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Class"><use href="../assets/icons.svg#icon-128"></use></svg><a href="common/WfProtocolError.html">WfProtocolError</a><a href="#wfprotocolerror" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd></dl></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#wfjsl-common-definitions"><span>WFJSL <wbr/>Common <wbr/>Definitions</span></a><ul><li><a href="#overview"><span>Overview</span></a></li><li><a href="#whiteflag-versions"><span>Whiteflag versions</span></a></li><li><a href="#authentication-and-encryption-methods"><span>Authentication and <wbr/>Encryption <wbr/>Methods</span></a></li><li><a href="#whiteflag-errors"><span>Whiteflag <wbr/>Errors</span></a></li><li><a href="#class-error-codes"><span> class error codes</span></a></li></ul><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Enumerations"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Enumerations</summary><div><a href="#wfauthmethod"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Enumeration"><use href="../assets/icons.svg#icon-8"></use></svg><span>Wf<wbr/>Auth<wbr/>Method</span></a><a href="#wfcryptomethod"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Enumeration"><use href="../assets/icons.svg#icon-8"></use></svg><span>Wf<wbr/>Crypto<wbr/>Method</span></a><a href="#wferrorcode"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Enumeration"><use href="../assets/icons.svg#icon-8"></use></svg><span>Wf<wbr/>Error<wbr/>Code</span></a><a href="#wfversion"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Enumeration"><use href="../assets/icons.svg#icon-8"></use></svg><span>Wf<wbr/>Version</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Classes"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Classes</summary><div><a href="#wfprotocolerror"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Class"><use href="../assets/icons.svg#icon-128"></use></svg><span>Wf<wbr/>Protocol<wbr/>Error</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">Whiteflag JavaScript Library - v1.1.0-dev</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
